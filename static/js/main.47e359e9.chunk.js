(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{15:function(e,n,t){},16:function(e,n,t){},18:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var i=t(1),a=t.n(i),c=t(10),r=t.n(c),s=(t(15),t(9)),l=t(3),o=t(2),u=[{id:1,name:"angelfish"},{id:2,name:"anteater"},{id:3,name:"bear"},{id:4,name:"bison"},{id:5,name:"boar"},{id:6,name:"buffalo"},{id:7,name:"camel"},{id:8,name:"cancer-hermit"},{id:9,name:"cat"},{id:10,name:"clownfish"},{id:11,name:"cow"},{id:12,name:"crab"},{id:13,name:"crocodile"},{id:14,name:"deer"},{id:15,name:"dog"},{id:16,name:"dolphin"},{id:17,name:"donkey"},{id:18,name:"duck"},{id:19,name:"elephant"},{id:20,name:"fish1"},{id:21,name:"fish2"},{id:22,name:"fish3"},{id:23,name:"fish4"},{id:24,name:"fish5"},{id:25,name:"fish6"},{id:26,name:"fish7"},{id:27,name:"fish8"},{id:28,name:"flamingo"},{id:29,name:"fox"},{id:30,name:"fugu"},{id:31,name:"giraffe"},{id:32,name:"goat"},{id:33,name:"goldfish"},{id:34,name:"hedgehog"},{id:35,name:"hippo"},{id:36,name:"hippocampus"},{id:37,name:"horse"},{id:38,name:"jellyfish"},{id:39,name:"kangaroo"},{id:40,name:"killer-whale"},{id:41,name:"lion"},{id:42,name:"monkey"},{id:43,name:"octopus"},{id:44,name:"ostrich"},{id:45,name:"panda"},{id:46,name:"peacock"},{id:47,name:"pelican"},{id:48,name:"penguin"},{id:49,name:"pig"},{id:50,name:"rabbit"},{id:51,name:"rhino"},{id:52,name:"rooster"},{id:53,name:"shark"},{id:54,name:"sheep"},{id:55,name:"shrimp"},{id:56,name:"snake1"},{id:57,name:"snake2"},{id:58,name:"starfish"},{id:59,name:"tiger"},{id:60,name:"tortoise"},{id:61,name:"toucan"},{id:62,name:"turkey"},{id:63,name:"turtle"},{id:64,name:"vulture"},{id:65,name:"whale"},{id:66,name:"wolf"},{id:67,name:"zebra"}],d=(t(16),t(0));function m(e){var n=e.card,t=e.onClick;return Object(d.jsx)("div",{className:"card"+(n.isFlipped?" flipped":""),onClick:t,children:Object(d.jsxs)("div",{className:"card-inner",children:[Object(d.jsx)("div",{className:"card-front",children:Object(d.jsx)("img",{src:"images/"+n.name+".png",alt:n.name})}),Object(d.jsx)("div",{className:"card-back"})]})})}t(18);var j=t(7),b=t.p+"static/media/sound-flip-card.e2cadc13.m4a",p=t.p+"static/media/game-music-short.5b81fc2f.mp3";function h(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),i=[e[t],e[n]];e[n]=i[0],e[t]=i[1]}}function f(e){return JSON.parse(JSON.stringify(e))}function O(e,n){return e.uniqueID=n?e.id+"-original":e.id+"-copy",e}function g(){var e=Object(i.useState)(18),n=Object(o.a)(e,2),t=n[0],a=n[1],c=Object(i.useState)("user"),r=Object(o.a)(c,2),g=r[0],v=r[1],x=Object(i.useState)(.5),y=Object(o.a)(x,2),k=y[0],N=y[1],S=Object(i.useState)(.5),C=Object(o.a)(S,2),w=C[0],D=C[1],F=Object(i.useState)(!0),A=Object(o.a)(F,2),I=A[0],q=A[1],B=Object(i.useState)(!0),T=Object(o.a)(B,2),P=T[0],M=T[1],z=Object(i.useState)(!1),_=Object(o.a)(z,2),J=_[0],L=_[1],H=Object(i.useState)(!1),G=Object(o.a)(H,2),E=G[0],R=G[1],K=Object(i.useState)(!1),Q=Object(o.a)(K,2),U=Q[0],V=Q[1],W=Object(i.useState)([]),X=Object(o.a)(W,2),Y=X[0],Z=X[1],$=Object(i.useState)("gamestart"),ee=Object(o.a)($,2),ne=ee[0],te=ee[1],ie=Object(i.useState)(),ae=Object(o.a)(ie,2),ce=ae[0],re=ae[1],se=Object(i.useState)(null),le=Object(o.a)(se,2),oe=le[0],ue=le[1],de=Object(i.useState)("playerA"),me=Object(o.a)(de,2),je=me[0],be=me[1],pe=Object(i.useState)(0),he=Object(o.a)(pe,2),fe=he[0],Oe=he[1],ge=Object(i.useState)(0),ve=Object(o.a)(ge,2),xe=ve[0],ye=ve[1],ke=Object(i.useState)(),Ne=Object(o.a)(ke,2),Se=(Ne[0],Ne[1]),Ce=Object(i.useState)([]),we=Object(o.a)(Ce,2),De=we[0],Fe=we[1],Ae=Object(i.useState)([]),Ie=Object(o.a)(Ae,2),qe=Ie[0],Be=Ie[1];function Te(e,n){var t=f(e);h(t);var i=t.slice(0,n/2),a=f(i);i.map((function(e){return O(e,!0)})),a.map((function(e){return O(e,!1)}));var c=i.concat(a);return h(c),"computer"===g&&(Se(c.map((function(e){return e.uniqueID}))),Be(c.map((function(e){return e.uniqueID})))),c}var Pe=new j.Howl({src:b,autoplay:!1,loop:!1,volume:k}),Me=new j.Howl({src:p,autoplay:!1,loop:!1,volume:w});function ze(e){e.isFlipped||"computer"===g&&"playerB"===je||(I&&Pe.play(),_e(e.uniqueID,!0),"computer"!==g||oe||(Fe((function(n){return[].concat(Object(l.a)(n),[e.uniqueID])})),Be((function(n){return n.filter((function(n){return n!==e.uniqueID}))}))),oe?function(e){"computer"===g&&(Be((function(n){return n.filter((function(n){return n!==e}))})),oe.split("-")[0]===e.split("-")[0]?(Se((function(n){return n.filter((function(n){return n!==oe&&n!==e}))})),Fe((function(n){return n.filter((function(n){return n!==oe&&n!==e}))}))):Fe((function(n){if(!n.includes(e))return[].concat(Object(l.a)(n),[e])})));if(oe.split("-")[0]===e.split("-")[0])return"playerA"===je?Oe(fe+1):ye(xe+1),Je(),void setTimeout((function(){t/2-1===fe+xe&&(Z(["playerA"===je&&fe+1>xe||"playerB"===je&&fe>xe+1?"Player A wins":"playerA"===je&&fe+1<xe||"playerB"===je&&fe<xe+1?"user"===g?"Player B wins":"Computer wins":"Tie"].concat(Object(l.a)(Y)).slice(0,10)),te("gameend"))}),1500);"playerA"===je?(be("playerB"),"computer"===g&&Ge(null,e)):be("playerA");setTimeout((function(){_e(oe,!1),_e(e,!1)}),800),Je()}(e.uniqueID):ue(e.uniqueID))}function _e(e,n){re((function(t){return t.map((function(t){return t.uniqueID!==e?t:Object(s.a)(Object(s.a)({},t),{},{isFlipped:n})}))}))}function Je(){ue(null)}function Le(){R(!E)}function He(){V(!U)}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;setTimeout((function(){var t,i=[];if(n&&!De.includes(n)){var a=[].concat(Object(l.a)(De),[n]).map((function(e){return e.split("-")[0]}));(t=Object(l.a)(new Set(a.filter((function(e,n,t){return t.indexOf(e)!==n}))))).length>0&&(I&&Pe.play(),_e(t[0]+"-original",!0),setTimeout((function(){I&&Pe.play(),_e(t[0]+"-copy",!0)}),500),ye(xe+1),Se((function(e){return e.filter((function(e){return e!==t[0]+"-original"&&e!==t[0]+"-copy"}))})),Fe((function(e){return e.filter((function(e){return e!==t[0]+"-original"&&e!==t[0]+"-copy"}))})))}if(n&&qe.length>0&&(i=qe.filter((function(e){return e!==n}))),i.length>0){var c;I&&Pe.play(),c=Ee(0,i.length),_e(i[c],!0),Fe((function(e){return[].concat(Object(l.a)(e),[i[c]])})),Be((function(e){return e.filter((function(e){return e!==i[c]}))})),Ge(i[c],null)}else{var r=Object(l.a)(De).map((function(e){return e.split("-")[0]}));(t=Object(l.a)(new Set(r.filter((function(e,n,t){return t.indexOf(e)!==n}))))).length>0&&(I&&Pe.play(),_e(t[0]+"-original",!0),setTimeout((function(){I&&Pe.play(),_e(t[0]+"-copy",!0)}),500),ye(xe+1),Se((function(e){return e.filter((function(e){return e!==t[0]+"-original"&&e!==t[0]+"-copy"}))})),Fe((function(e){return e.filter((function(e){return e!==t[0]+"-original"&&e!==t[0]+"-copy"}))})))}if(e){var s,o=[].concat(Object(l.a)(De),[e]).map((function(e){return e.split("-")[0]})),u=e.split("-")[0];if(o.includes(u))s="original"===e.split("-")[1]?u+"-copy":u+"-original",I&&Pe.play(),_e(s,!0),ye(xe+1),Se((function(n){return n.filter((function(n){return n!==e&&n!==s}))})),Fe((function(n){return n.filter((function(n){return n!==e&&n!==s}))})),Ge()}}),2e3)}function Ee(e,n){return Math.floor(Math.random()*(n-e))+e}return Object(d.jsxs)("div",{className:"memory-game"+(J?" night-on":""),children:["gameend"===ne?Object(d.jsx)("div",{className:"winner",children:fe>xe?"Player A wins":fe===xe?"Tie":"user"===g?"Player B wins":"Computer wins"}):"","inprogress"!==ne&&Object(d.jsx)("div",{className:"game-menu-wrapper",children:Object(d.jsxs)("div",{className:"game-menu",children:[Object(d.jsx)("button",{className:"btn start-game",onClick:function(){"computer"===g&&(Fe([]),Be([])),re(Te(u,t)),te("inprogress"),be("playerA"),Oe(0),ye(0),P&&(Me.play(),setTimeout((function(){Me.stop()}),3e4))},children:"Start"}),Object(d.jsx)("button",{className:"btn show-statistics",onClick:Le,children:"Statistics"}),Object(d.jsx)("button",{className:"btn show-settings",onClick:He,children:"Settings"})]})}),U&&Object(d.jsxs)("div",{className:"modal settings",children:[Object(d.jsxs)("div",{className:"deck-size",children:[Object(d.jsx)("label",{htmlFor:"deck-size",children:"Select deck size:"}),Object(d.jsxs)("select",{id:"deck-size",value:t,onChange:function(e){a(+e.target.value),re(Te(u,+e.target.value))},children:[Object(d.jsx)("option",{value:"18",children:"18"}),Object(d.jsx)("option",{value:"24",children:"24"}),Object(d.jsx)("option",{value:"32",children:"32"})]})]}),Object(d.jsxs)("div",{className:"opponent",children:[Object(d.jsx)("label",{htmlFor:"opponent",children:"Select opponent:"}),Object(d.jsxs)("select",{id:"opponent",value:g,onChange:function(e){v(e.target.value),te("gamestart")},children:[Object(d.jsx)("option",{value:"user",children:"user"}),Object(d.jsx)("option",{value:"computer",children:"computer"})]})]}),Object(d.jsxs)("div",{className:"night-mode",children:[Object(d.jsx)("label",{htmlFor:"night",children:"Night mode:"}),Object(d.jsx)("input",{type:"checkbox",id:"night",name:"night",defaultChecked:J,onChange:function(e){L(e.target.checked)}})]}),Object(d.jsxs)("div",{className:"volume",children:[Object(d.jsx)("p",{children:"Audio settings:"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"range",id:"sound-volume",name:"sound-volume",min:"0",max:"1",value:k,onChange:function(e){N(e.target.value)},step:".05"}),Object(d.jsx)("input",{type:"checkbox",defaultChecked:I,onChange:function(e){q(e.target.checked)}}),Object(d.jsx)("label",{htmlFor:"sound-volume",children:"Sound"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"range",id:"music-volume",name:"music-volume",min:"0",max:"1",value:w,onChange:function(e){D(e.target.value)},step:".05"}),Object(d.jsx)("input",{type:"checkbox",defaultChecked:P,onChange:function(e){M(e.target.checked)}}),Object(d.jsx)("label",{htmlFor:"music-volume",children:"Music"})]})]}),Object(d.jsx)("div",{className:"modal-close",onClick:He,children:"\u2716"})]}),E&&Object(d.jsxs)("div",{className:"modal statistics",children:[Object(d.jsx)("div",{className:"ladder",children:Object(d.jsx)("ol",{children:Y.map((function(e,n){return Object(d.jsx)("li",{children:e},n)}))})}),Object(d.jsx)("div",{className:"modal-close",onClick:Le,children:"\u2716"})]}),"inprogress"===ne&&Object(d.jsxs)("div",{className:"score",children:[Object(d.jsx)("div",{className:"player player-1"+("playerA"===je?" active":""),children:"Player A"}),Object(d.jsxs)("div",{className:"points",children:[Object(d.jsx)("span",{className:"points-pl1",children:fe}),Object(d.jsx)("span",{className:"divider",children:":"}),Object(d.jsx)("span",{className:"points-pl2",children:xe})]}),Object(d.jsx)("div",{className:"player player-2"+("playerB"===je?" active":""),children:"user"===g?"Player B":"Computer"})]}),Object(d.jsx)("div",{className:"card-board deck-size-"+t,children:"inprogress"===ne&&ce.map((function(e){return Object(d.jsx)(m,{card:e,onClick:function(){return ze(e)}},e.uniqueID)}))})]})}var v=t.p+"static/media/logo_rs_school_js.ad178c0d.svg",x=t(8);var y=function(){var e=Object(x.b)();return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("header",{children:[Object(d.jsx)("h1",{children:"Memory Game"}),Object(d.jsx)("button",{className:"btn enable-fullscreen",onClick:e.enter,children:"Fullscreen"})]}),Object(d.jsx)(x.a,{handle:e,children:Object(d.jsx)(g,{})}),Object(d.jsxs)("footer",{children:[Object(d.jsxs)("div",{className:"developer",children:[Object(d.jsx)("span",{className:"copyright",children:"\xa92021"}),Object(d.jsx)("a",{href:"https://github.com/DieL89",target:"_blank",rel:"noreferrer",children:"Developer's GitHub"})]}),Object(d.jsx)("a",{className:"rsschool-logo",href:"https://rs.school/js/",target:"_blank",rel:"noreferrer",children:Object(d.jsx)("img",{src:v,alt:"RS School Logo"})})]})]})},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(n){var t=n.getCLS,i=n.getFID,a=n.getFCP,c=n.getLCP,r=n.getTTFB;t(e),i(e),a(e),c(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),k()}},[[20,1,2]]]);
//# sourceMappingURL=main.47e359e9.chunk.js.map